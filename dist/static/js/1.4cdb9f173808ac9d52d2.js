webpackJsonp([1,3,4],{KYvs:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("fZjL"),n=s.n(a),i=s("BO1k"),o=s.n(i),r=s("mtWM"),l=s.n(r),u={data:function(){return{taskName:"",taskCompletitions:[],showSuggestion:!1}},computed:{filteredSuggestion:function(){var t=[],e=this.taskName.replace(this.getTimeDelta(this.taskName,"",0),"").trim(),s=new RegExp(e,"i"),a=!0,n=!1,i=void 0;try{for(var r,l=o()(this.taskCompletitions);!(a=(r=l.next()).done);a=!0){var u=r.value;if(u.match(s)&&u!==e&&t.push(u),t.length>=10)break}}catch(t){n=!0,i=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}return t}},methods:{getCompletitions:function(){var t=this;l.a.get("http://localhost:5000/api/completitions").then(function(e){t.taskCompletitions=e.data.values}).catch(function(t){console.log(["getCompletitions error",t])})},addTask:function(){var t=this;l.a.post("http://localhost:5000/api/task",this.urlEncode({name:this.taskName}),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(function(e){t.taskName="",t.$emit("add-task"),t.$refs.tasks.getTasks()}).catch(function(t){console.log(["getCompletitions error",t])})},getTimeDelta:function(t,e,s){var a="",n=[new RegExp(/^-[0-9]{0,3}/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])-([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/)];if(0===s&&t.match(n[2]))return t.match(n[2])[0];if(t.match(n[0])?a=t.match(n[0])[0]:t.match(n[1])&&(a=t.match(n[1])[0]),""!==a&&0===s)return this.getTimeDelta(t.replace(a,"").trim(),a,1);if(""!==e&&""!==a)a=e+" "+a;else if(""!==e&&""===a)return e;return a},setTaskBody:function(t){var e=this.getTimeDelta(this.taskName,"",0);this.taskName=""!==e?e+" "+t:t},onFocus:function(){this.showSuggestion=!0},urlEncode:function(t){return n()(t).reduce(function(e,s){return e.push(s+"="+encodeURIComponent(t[s])),e},[]).join("&")}},mounted:function(){this.getCompletitions()}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{staticClass:"md-layout md-gutter md-alignment-top-center",attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.addTask()}}},[s("md-card",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},[s("md-card-content",[s("div",{staticClass:"md-layout"},[s("md-field",{staticClass:"md-layout-item md-size-80",attrs:{"md-clearable":""}},[s("label",[t._v("Task")]),t._v(" "),s("md-input",{nativeOn:{focus:function(e){return t.onFocus(e)}},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}})],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20"},[s("md-button",{staticClass:"md-primary",staticStyle:{"margin-top":"18px"},attrs:{type:"submit"}},[t._v("Add")])],1)],1)])],1)],1),t._v(" "),t.filteredSuggestion.length&&t.showSuggestion?s("div",{staticClass:"md-layout md-gutter md-alignment-top-center"},[s("md-list",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},t._l(t.filteredSuggestion,function(e){return s("md-list-item",{key:e.id,on:{click:function(s){t.setTaskBody(e)}}},[s("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])])}))],1):t._e()])},staticRenderFns:[]},c=s("VU/8")(u,m,!1,null,null,null);e.default=c.exports},Ty68:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("fZjL"),n=s.n(a),i=s("BO1k"),o=s.n(i),r=s("tiaN"),l=s("mtWM"),u=s.n(l),m={data:function(){return{current:null}},computed:{filteredSuggestion:function(){var t=[],e=this.taskName.replace(this.getTimeDelta(this.taskName,"",0),"").trim(),s=new RegExp(e,"i"),a=!0,n=!1,i=void 0;try{for(var r,l=o()(this.taskCompletitions);!(a=(r=l.next()).done);a=!0){var u=r.value;if(u.match(s)&&u!==e&&t.push(u),t.length>=10)break}}catch(t){n=!0,i=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}return t}},methods:{getCurrentTask:function(){var t=this;u.a.get("http://localhost:5000/api/current").then(function(e){t.current=e.data}).catch(function(t){console.log(["getCurrentTask error",t])})},stopTask:function(){var t=this;this.current=null;u.a.post("http://localhost:5000/api/stop").then(function(e){t.$emit("stop-task")}).catch(function(t){console.log(["getCompletitions error",t])})},urlEncode:function(t){return n()(t).reduce(function(e,s){return e.push(s+"="+encodeURIComponent(t[s])),e},[]).join("&")}},components:{TaskItem:r.default},mounted:function(){this.getCurrentTask()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!==t.current?s("div",[s("form",{staticClass:"md-layout md-gutter md-alignment-top-center",attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.stopTask()}}},[s("md-card",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},[s("md-card-content",[s("div",{staticClass:"md-layout"},[s("md-list",{staticClass:"md-layout-item md-size-80"},[s("TaskItem",{attrs:{task:t.current}})],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20"},[s("md-button",{staticClass:"md-primary",staticStyle:{"margin-top":"12px"},attrs:{type:"submit"}},[t._v("Stop")])],1)],1)])],1)],1)]):t._e()},staticRenderFns:[]},d=s("VU/8")(m,c,!1,null,null,null);e.default=d.exports},lO7g:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("N1EC"),n=s("KYvs"),i=s("Ty68"),o={data:function(){return{}},methods:{refreshData:function(){this.$refs.taskStop.getCurrentTask(),this.$refs.taskAdd.getCompletitions(),this.$refs.tasks.getTasks()}},components:{Tasks:a.default,TaskAdd:n.default,TaskStop:i.default},mounted:function(){setInterval(this.refreshData,6e4)}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("TaskStop",{ref:"taskStop",on:{"stop-task":this.refreshData}}),this._v(" "),e("TaskAdd",{ref:"taskAdd",on:{"add-task":this.refreshData}}),this._v(" "),e("Tasks",{ref:"tasks"})],1)},staticRenderFns:[]},l=s("VU/8")(o,r,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=1.4cdb9f173808ac9d52d2.js.map