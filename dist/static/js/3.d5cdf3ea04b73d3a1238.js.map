{"version":3,"sources":["webpack:///src/components/Autocomplete.vue","webpack:///./src/components/Autocomplete.vue?dafe","webpack:///./src/components/Autocomplete.vue"],"names":["Autocomplete","data","taskName","taskCompletitions","showSuggestion","input","document","getElementById","currentFocus","computed","filteredSuggestion","filtered","nameForFilter","this","replace","getTimeDelta","trim","re","RegExp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","value","match","push","length","err","return","methods","getCompletitions","_this","axios_default","a","get","then","response","values","catch","error","console","log","addTask","_this2","post","urlEncode","name","headers","Content-type","$emit","$refs","tasks","getTasks","task","currentTimeDelta","step","timeDelta","setTaskBody","onKeydown","e","keyCode","select","preventDefault","onFocus","onClickOut","target","id","index","obj","keys_default","reduce","k","encodeURIComponent","join","mounted","addEventListener","components_Autocomplete","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","attrs","type","placeholder","domProps","on","keydown","focus","$event","composing","_v","_l","suggest","key","class","data-id","click","_s","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.d5cdf3ea04b73d3a1238.js","sourcesContent":["<template>\n    <div class=\"autocomplete\">\n        <input id=\"autocompletedIntput\" type=\"text\" name=\"myCountry\" placeholder=\"Country\" @keydown=\"this.onKeydown\" v-model=\"taskName\" @focus=\"onFocus()\">\n        <div id=\"myInputautocomplete-list\" class=\"autocomplete-items\">\n          <div\n             v-if=\"showSuggestion\"\n             v-for=\"(suggest, index) in filteredSuggestion\"\n             :class=\"currentFocus === index ? 'autocomplete-active' : ''\"\n             v-bind:key=\"index\"\n             :data-id=\"index\"\n             @click=\"select(index)\"\n          >\n            {{suggest}}\n            <input type=\"hidden\" :value=\"suggest\">\n          </div>\n        </div>\n    </div>\n</template>\n\n<style>\n* {\n  box-sizing: border-box;\n}\n.autocomplete {\n  /* the container must be positioned relative: */\n  width: 100%;\n  position: relative;\n  display: inline-block;\n}\ninput {\n  border: 1px solid transparent;\n  background-color: #f1f1f1;\n  padding: 10px;\n  font-size: 16px;\n}\ninput[type=text] {\n  background-color: #f1f1f1;\n  width: 100%;\n}\ninput[type=submit] {\n  background-color: DodgerBlue;\n  color: #fff;\n  cursor: pointer;\n}\n.autocomplete-items {\n  position: absolute;\n  border: 1px solid #d4d4d4;\n  border-bottom: none;\n  border-top: none;\n  z-index: 99;\n  /* position the autocomplete items to be the same width as the container: */\n  top: 100%;\n  left: 0;\n  right: 0;\n}\n.autocomplete-items div {\n  padding: 10px;\n  cursor: pointer;\n  background-color: #fff;\n  border-bottom: 1px solid #d4d4d4;\n}\n.autocomplete-items div:hover {\n  /* when hovering an item: */\n  background-color: #e9e9e9;\n}\n.autocomplete-active {\n  /* when navigating through the items using the arrow keys: */\n  background-color: DodgerBlue !important;\n  color: #ffffff;\n}\n</style>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data () {\n    return {\n      taskName: '',\n      taskCompletitions: [],\n      showSuggestion: true,\n      input: document.getElementById('autocompletedIntput'),\n      currentFocus: -1\n    }\n  },\n  computed: {\n    filteredSuggestion: function () {\n      var filtered = []\n      var nameForFilter = this.taskName.replace(this.getTimeDelta(this.taskName, '', 0), '').trim()\n      var re = new RegExp(nameForFilter, 'i')\n      for (let item of this.taskCompletitions) {\n        if (item.match(re) && item !== nameForFilter) {\n          filtered.push(item)\n        }\n        if (filtered.length >= 10) {\n          break\n        }\n      }\n      return filtered\n    }\n  },\n  methods: {\n    getCompletitions () {\n      const path = 'http://localhost:5000/api/completitions'\n      axios.get(path)\n        .then(response => {\n          this.taskCompletitions = response.data.values\n        })\n        .catch(error => {\n          console.log(['getCompletitions error', error])\n        })\n    },\n    addTask () {\n      const path = `http://localhost:5000/api/task`\n      axios.post(path, this.urlEncode({name: this.taskName}),\n        {\n          headers: {\n            'Content-type': 'application/x-www-form-urlencoded'\n          }\n        })\n        .then(response => {\n          this.taskName = ''\n          this.$emit('add-task')\n          this.$refs.tasks.getTasks()\n        })\n        .catch(error => {\n          console.log(['getCompletitions error', error])\n        })\n    },\n    getTimeDelta (task, currentTimeDelta, step) {\n      var timeDelta = ''\n\n      var re = [\n        new RegExp(/^-[0-9]{0,3}/),\n        new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/),\n        new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])-([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/)\n      ]\n\n      if (step === 0) {\n        if (task.match(re[2])) {\n          return task.match(re[2])[0]\n        }\n      }\n\n      if (task.match(re[0])) {\n        timeDelta = task.match(re[0])[0]\n      } else if (task.match(re[1])) {\n        timeDelta = task.match(re[1])[0]\n      }\n\n      if (timeDelta !== '' && step === 0) {\n        return this.getTimeDelta(\n          task.replace(timeDelta, '').trim(),\n          timeDelta,\n          1\n        )\n      }\n      if (currentTimeDelta !== '' && timeDelta !== '') {\n        timeDelta = currentTimeDelta + ' ' + timeDelta\n      } else if (currentTimeDelta !== '' && timeDelta === '') {\n        return currentTimeDelta\n      }\n\n      return timeDelta\n    },\n    setTaskBody (name) {\n      var timeDelta = this.getTimeDelta(this.taskName, '', 0)\n      if (timeDelta !== '') {\n        this.taskName = timeDelta + ' ' + name\n      } else {\n        this.taskName = name\n      }\n    },\n    onKeydown (e) {\n      if (e.keyCode === 40) { // down\n        this.currentFocus++\n        if (this.currentFocus >= this.filteredSuggestion.length - 1) {\n          this.currentFocus = this.filteredSuggestion.length - 1\n        }\n      } else if (e.keyCode === 38) { // up\n        this.currentFocus--\n        if (this.currentFocus < -1) {\n          this.currentFocus = -1\n        }\n      } else if (e.keyCode === 13) { // enter\n        if (this.currentFocus > -1) {\n          this.select(this.currentFocus)\n          e.preventDefault()\n        }\n      }\n      console.log(this.currentFocus)\n    },\n    onFocus () {\n      this.showSuggestion = true\n    },\n    onClickOut (e) {\n      console.log(e.target.id)\n      if (e.target.id !== 'autocompletedIntput') {\n        this.showSuggestion = false\n      }\n    },\n    select (index) {\n      this.taskName = this.filteredSuggestion[index]\n      this.currentFocus = -1\n    },\n    urlEncode (obj) {\n      return Object.keys(obj).reduce(function (a, k) { a.push(k + '=' + encodeURIComponent(obj[k])); return a }, []).join('&')\n    }\n  },\n  mounted () {\n    this.getCompletitions()\n\n    /* execute a function when someone clicks in the document: */\n    document.addEventListener('click', this.onClickOut)\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Autocomplete.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"autocomplete\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taskName),expression:\"taskName\"}],attrs:{\"id\":\"autocompletedIntput\",\"type\":\"text\",\"name\":\"myCountry\",\"placeholder\":\"Country\"},domProps:{\"value\":(_vm.taskName)},on:{\"keydown\":this.onKeydown,\"focus\":function($event){_vm.onFocus()},\"input\":function($event){if($event.target.composing){ return; }_vm.taskName=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"autocomplete-items\",attrs:{\"id\":\"myInputautocomplete-list\"}},_vm._l((_vm.filteredSuggestion),function(suggest,index){return (_vm.showSuggestion)?_c('div',{key:index,class:_vm.currentFocus === index ? 'autocomplete-active' : '',attrs:{\"data-id\":index},on:{\"click\":function($event){_vm.select(index)}}},[_vm._v(\"\\n        \"+_vm._s(suggest)+\"\\n        \"),_c('input',{attrs:{\"type\":\"hidden\"},domProps:{\"value\":suggest}})]):_vm._e()}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25886de5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Autocomplete.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25886de5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Autocomplete.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Autocomplete.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Autocomplete.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25886de5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Autocomplete.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Autocomplete.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}