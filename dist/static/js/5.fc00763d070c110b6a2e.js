webpackJsonp([5],{KYvs:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("fZjL"),i=a.n(s),n=a("BO1k"),o=a.n(n),m=a("mtWM"),l=a.n(m),r={data:function(){return{taskName:"",taskCompletitions:[],showSuggestion:!1}},computed:{filteredSuggestion:function(){var t=[],e=this.taskName.replace(this.getTimeDelta(this.taskName,"",0),"").trim(),a=new RegExp(e,"i"),s=!0,i=!1,n=void 0;try{for(var m,l=o()(this.taskCompletitions);!(s=(m=l.next()).done);s=!0){var r=m.value;if(r.match(a)&&r!==e&&t.push(r),t.length>=10)break}}catch(t){i=!0,n=t}finally{try{!s&&l.return&&l.return()}finally{if(i)throw n}}return t}},methods:{getCompletitions:function(){var t=this;l.a.get("http://localhost:5000/api/completitions").then(function(e){t.taskCompletitions=e.data.values}).catch(function(t){console.log(["getCompletitions error",t])})},addTask:function(){var t=this;l.a.post("http://localhost:5000/api/task",this.urlEncode({name:this.taskName}),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(function(e){t.taskName="",t.$emit("add-task"),t.$refs.tasks.getTasks()}).catch(function(t){console.log(["getCompletitions error",t])})},getTimeDelta:function(t,e,a){var s="",i=[new RegExp(/^-[0-9]{0,3}/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])-([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/)];if(0===a&&t.match(i[2]))return t.match(i[2])[0];if(t.match(i[0])?s=t.match(i[0])[0]:t.match(i[1])&&(s=t.match(i[1])[0]),""!==s&&0===a)return this.getTimeDelta(t.replace(s,"").trim(),s,1);if(""!==e&&""!==s)s=e+" "+s;else if(""!==e&&""===s)return e;return s},setTaskBody:function(t){var e=this.getTimeDelta(this.taskName,"",0);this.taskName=""!==e?e+" "+t:t},onFocus:function(){this.showSuggestion=!0},urlEncode:function(t){return i()(t).reduce(function(e,a){return e.push(a+"="+encodeURIComponent(t[a])),e},[]).join("&")}},mounted:function(){this.getCompletitions()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"md-layout md-gutter md-alignment-top-center",attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.addTask()}}},[a("md-card",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},[a("md-card-content",[a("div",{staticClass:"md-layout"},[a("md-field",{staticClass:"md-layout-item md-size-80",attrs:{"md-clearable":""}},[a("label",[t._v("Task")]),t._v(" "),a("md-input",{nativeOn:{focus:function(e){return t.onFocus(e)}},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}})],1),t._v(" "),a("div",{staticClass:"md-layout-item md-size-20"},[a("md-button",{staticClass:"md-primary",staticStyle:{"margin-top":"18px"},attrs:{type:"submit"}},[t._v("Add")])],1)],1)])],1)],1),t._v(" "),t.filteredSuggestion.length&&t.showSuggestion?a("div",{staticClass:"md-layout md-gutter md-alignment-top-center"},[a("md-list",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},t._l(t.filteredSuggestion,function(e){return a("md-list-item",{key:e.id,on:{click:function(a){t.setTaskBody(e)}}},[a("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])])}))],1):t._e()])},staticRenderFns:[]},u=a("VU/8")(r,c,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=5.fc00763d070c110b6a2e.js.map