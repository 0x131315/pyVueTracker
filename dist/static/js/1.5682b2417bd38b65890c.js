webpackJsonp([1,3,4,5],{KYvs:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("fZjL"),a=s.n(n),i=s("BO1k"),o=s.n(i),r=s("mtWM"),u=s.n(r),l={data:function(){return{taskName:"",taskCompletitions:[],showSuggestion:!1}},computed:{filteredSuggestion:function(){var t=[],e=this.taskName.replace(this.getTimeDelta(this.taskName,"",0),"").trim(),s=new RegExp(e,"i"),n=!0,a=!1,i=void 0;try{for(var r,u=o()(this.taskCompletitions);!(n=(r=u.next()).done);n=!0){var l=r.value;if(l.match(s)&&l!==e&&t.push(l),t.length>=10)break}}catch(t){a=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return t}},methods:{getCompletitions:function(){var t=this;u.a.get("http://localhost:5000/api/completitions").then(function(e){t.taskCompletitions=e.data.values}).catch(function(t){console.log(["getCompletitions error",t])})},addTask:function(){var t=this;u.a.post("http://localhost:5000/api/task",this.urlEncode({name:this.taskName}),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(function(e){t.taskName="",t.$emit("add-task"),t.$refs.tasks.getTasks()}).catch(function(t){console.log(["getCompletitions error",t])})},getTimeDelta:function(t,e,s){var n="",a=[new RegExp(/^-[0-9]{0,3}/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])-([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/)];if(0===s&&t.match(a[2]))return t.match(a[2])[0];if(t.match(a[0])?n=t.match(a[0])[0]:t.match(a[1])&&(n=t.match(a[1])[0]),""!==n&&0===s)return this.getTimeDelta(t.replace(n,"").trim(),n,1);if(""!==e&&""!==n)n=e+" "+n;else if(""!==e&&""===n)return e;return n},setTaskBody:function(t){var e=this.getTimeDelta(this.taskName,"",0);this.taskName=""!==e?e+" "+t:t},onFocus:function(){this.showSuggestion=!0},urlEncode:function(t){return a()(t).reduce(function(e,s){return e.push(s+"="+encodeURIComponent(t[s])),e},[]).join("&")}},mounted:function(){this.getCompletitions()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{staticClass:"md-layout md-gutter md-alignment-top-center",attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.addTask()}}},[s("md-card",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},[s("md-card-content",[s("div",{staticClass:"md-layout"},[s("md-field",{staticClass:"md-layout-item md-size-80",attrs:{"md-clearable":""}},[s("label",[t._v("Task")]),t._v(" "),s("md-input",{nativeOn:{focus:function(e){return t.onFocus(e)}},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}})],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20"},[s("md-button",{staticClass:"md-primary",staticStyle:{"margin-top":"18px"},attrs:{type:"submit"}},[t._v("Add")])],1)],1)])],1)],1),t._v(" "),t.filteredSuggestion.length&&t.showSuggestion?s("div",{staticClass:"md-layout md-gutter md-alignment-top-center"},[s("md-list",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},t._l(t.filteredSuggestion,function(e){return s("md-list-item",{key:e.id,on:{click:function(s){t.setTaskBody(e)}}},[s("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])])}))],1):t._e()])},staticRenderFns:[]},m=s("VU/8")(l,c,!1,null,null,null);e.default=m.exports},OvdN:function(t,e){},Ty68:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("fZjL"),a=s.n(n),i=s("BO1k"),o=s.n(i),r=s("tiaN"),u=s("mtWM"),l=s.n(u),c={data:function(){return{current:null}},computed:{filteredSuggestion:function(){var t=[],e=this.taskName.replace(this.getTimeDelta(this.taskName,"",0),"").trim(),s=new RegExp(e,"i"),n=!0,a=!1,i=void 0;try{for(var r,u=o()(this.taskCompletitions);!(n=(r=u.next()).done);n=!0){var l=r.value;if(l.match(s)&&l!==e&&t.push(l),t.length>=10)break}}catch(t){a=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return t}},methods:{getCurrentTask:function(){var t=this;l.a.get("http://localhost:5000/api/current").then(function(e){t.current=e.data}).catch(function(t){console.log(["getCurrentTask error",t])})},stopTask:function(){var t=this;this.current=null;l.a.post("http://localhost:5000/api/stop").then(function(e){t.$emit("stop-task")}).catch(function(t){console.log(["getCompletitions error",t])})},urlEncode:function(t){return a()(t).reduce(function(e,s){return e.push(s+"="+encodeURIComponent(t[s])),e},[]).join("&")}},components:{TaskItem:r.default},mounted:function(){this.getCurrentTask()}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!==t.current?s("div",[s("form",{staticClass:"md-layout md-gutter md-alignment-top-center",attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.stopTask()}}},[s("md-card",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},[s("md-card-content",[s("div",{staticClass:"md-layout"},[s("md-list",{staticClass:"md-layout-item md-size-80"},[s("TaskItem",{attrs:{task:t.current}})],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20"},[s("md-button",{staticClass:"md-primary",staticStyle:{"margin-top":"12px"},attrs:{type:"submit"}},[t._v("Stop")])],1)],1)])],1)],1)]):t._e()},staticRenderFns:[]},d=s("VU/8")(c,m,!1,null,null,null);e.default=d.exports},lO7g:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("N1EC"),a=s("KYvs"),i=s("Ty68"),o=s("lbUa"),r={data:function(){return{}},methods:{refreshData:function(){this.$refs.taskStop.getCurrentTask(),this.$refs.taskAdd.getCompletitions(),this.$refs.tasks.getTasks()}},components:{Tasks:n.default,TaskAdd:a.default,TaskStop:i.default,Autocomplete:o.default},mounted:function(){setInterval(this.refreshData,6e4)}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"md-layout md-gutter md-alignment-top-center"},[e("div",{staticClass:"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100"},[e("Autocomplete")],1)]),this._v(" "),e("TaskStop",{ref:"taskStop",on:{"stop-task":this.refreshData}}),this._v(" "),e("TaskAdd",{ref:"taskAdd",on:{"add-task":this.refreshData}}),this._v(" "),e("Tasks",{ref:"tasks"})],1)},staticRenderFns:[]},l=s("VU/8")(r,u,!1,null,null,null);e.default=l.exports},lbUa:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("fZjL"),a=s.n(n),i=s("BO1k"),o=s.n(i),r=s("mtWM"),u=s.n(r),l={data:function(){return{taskName:"",taskCompletitions:[],showSuggestion:!0,input:document.getElementById("autocompletedIntput"),currentFocus:-1}},computed:{filteredSuggestion:function(){var t=[],e=this.taskName.replace(this.getTimeDelta(this.taskName,"",0),"").trim(),s=new RegExp(e,"i"),n=!0,a=!1,i=void 0;try{for(var r,u=o()(this.taskCompletitions);!(n=(r=u.next()).done);n=!0){var l=r.value;if(l.match(s)&&l!==e&&t.push(l),t.length>=10)break}}catch(t){a=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return t}},methods:{getCompletitions:function(){var t=this;u.a.get("http://localhost:5000/api/completitions").then(function(e){t.taskCompletitions=e.data.values}).catch(function(t){console.log(["getCompletitions error",t])})},addTask:function(){var t=this;u.a.post("http://localhost:5000/api/task",this.urlEncode({name:this.taskName}),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(function(e){t.taskName="",t.$emit("add-task"),t.$refs.tasks.getTasks()}).catch(function(t){console.log(["getCompletitions error",t])})},getTimeDelta:function(t,e,s){var n="",a=[new RegExp(/^-[0-9]{0,3}/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])-([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/)];if(0===s&&t.match(a[2]))return t.match(a[2])[0];if(t.match(a[0])?n=t.match(a[0])[0]:t.match(a[1])&&(n=t.match(a[1])[0]),""!==n&&0===s)return this.getTimeDelta(t.replace(n,"").trim(),n,1);if(""!==e&&""!==n)n=e+" "+n;else if(""!==e&&""===n)return e;return n},setTaskBody:function(t){var e=this.getTimeDelta(this.taskName,"",0);this.taskName=""!==e?e+" "+t:t},onKeydown:function(t){40===t.keyCode?(this.currentFocus++,this.currentFocus>=this.filteredSuggestion.length-1&&(this.currentFocus=this.filteredSuggestion.length-1)):38===t.keyCode?(this.currentFocus--,this.currentFocus<-1&&(this.currentFocus=-1)):13===t.keyCode&&this.currentFocus>-1&&(this.select(this.currentFocus),t.preventDefault()),console.log(this.currentFocus)},onFocus:function(){this.showSuggestion=!0},onClickOut:function(t){console.log(t.target.id),"autocompletedIntput"!==t.target.id&&(this.showSuggestion=!1)},select:function(t){this.taskName=this.filteredSuggestion[t],this.currentFocus=-1},urlEncode:function(t){return a()(t).reduce(function(e,s){return e.push(s+"="+encodeURIComponent(t[s])),e},[]).join("&")}},mounted:function(){this.getCompletitions(),document.addEventListener("click",this.onClickOut)}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"autocomplete"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskName,expression:"taskName"}],attrs:{id:"autocompletedIntput",type:"text",name:"myCountry",placeholder:"Country"},domProps:{value:t.taskName},on:{keydown:this.onKeydown,focus:function(e){t.onFocus()},input:function(e){e.target.composing||(t.taskName=e.target.value)}}}),t._v(" "),s("div",{staticClass:"autocomplete-items",attrs:{id:"myInputautocomplete-list"}},t._l(t.filteredSuggestion,function(e,n){return t.showSuggestion?s("div",{key:n,class:t.currentFocus===n?"autocomplete-active":"",attrs:{"data-id":n},on:{click:function(e){t.select(n)}}},[t._v("\n        "+t._s(e)+"\n        "),s("input",{attrs:{type:"hidden"},domProps:{value:e}})]):t._e()}))])},staticRenderFns:[]};var m=s("VU/8")(l,c,!1,function(t){s("OvdN")},null,null);e.default=m.exports}});
//# sourceMappingURL=1.5682b2417bd38b65890c.js.map