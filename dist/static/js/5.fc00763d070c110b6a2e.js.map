{"version":3,"sources":["webpack:///src/components/TaskAdd.vue","webpack:///./src/components/TaskAdd.vue?c540","webpack:///./src/components/TaskAdd.vue"],"names":["TaskAdd","data","taskName","taskCompletitions","showSuggestion","computed","filteredSuggestion","filtered","nameForFilter","this","replace","getTimeDelta","trim","re","RegExp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","value","match","push","length","err","return","methods","getCompletitions","_this","axios_default","a","get","then","response","values","catch","error","console","log","addTask","_this2","post","urlEncode","name","headers","Content-type","$emit","$refs","tasks","getTasks","task","currentTimeDelta","step","timeDelta","setTaskBody","onFocus","obj","keys_default","reduce","k","encodeURIComponent","join","mounted","components_TaskAdd","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","action","method","on","submit","$event","preventDefault","md-clearable","_v","nativeOn","focus","model","callback","$$v","expression","staticStyle","margin-top","type","_l","suggestion","key","id","click","_s","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/5.fc00763d070c110b6a2e.js","sourcesContent":["<template>\n  <div>\n      <form action=\"\" method=\"post\" class=\"md-layout md-gutter md-alignment-top-center\" v-on:submit.prevent=\"addTask()\">\n        <md-card class=\"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100\">\n          <md-card-content>\n            <div class=\"md-layout\">\n              <md-field class=\"md-layout-item md-size-80\" md-clearable>\n                <label>Task</label>\n                <md-input v-model=\"taskName\" @focus.native=\"onFocus\"></md-input>\n              </md-field>\n\n              <div class=\"md-layout-item md-size-20\">\n                <md-button type=\"submit\" class=\"md-primary\" style=\"margin-top: 18px;\">Add</md-button>\n              </div>\n            </div>\n          </md-card-content>\n        </md-card>\n      </form>\n\n      <div class=\"md-layout md-gutter md-alignment-top-center\" v-if=\"filteredSuggestion.length && showSuggestion\">\n        <md-list class=\"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100\">\n          <md-list-item\n              @click=\"setTaskBody(suggestion)\"\n              v-for=\"suggestion in filteredSuggestion\"\n              :key=\"suggestion.id\">\n            <span class=\"md-list-item-text\">{{suggestion}}</span>\n          </md-list-item>\n        </md-list>\n      </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data () {\n    return {\n      taskName: '',\n      taskCompletitions: [],\n      showSuggestion: false\n    }\n  },\n  computed: {\n    filteredSuggestion: function () {\n      var filtered = []\n      var nameForFilter = this.taskName.replace(this.getTimeDelta(this.taskName, '', 0), '').trim()\n      var re = new RegExp(nameForFilter, 'i')\n      for (let item of this.taskCompletitions) {\n        if (item.match(re) && item !== nameForFilter) {\n          filtered.push(item)\n        }\n        if (filtered.length >= 10) {\n          break\n        }\n      }\n      return filtered\n    }\n  },\n  methods: {\n    getCompletitions () {\n      const path = `http://localhost:5000/api/completitions`\n      axios.get(path)\n        .then(response => {\n          this.taskCompletitions = response.data.values\n        })\n        .catch(error => {\n          console.log(['getCompletitions error', error])\n        })\n    },\n    addTask () {\n      const path = `http://localhost:5000/api/task`\n      axios.post(path, this.urlEncode({name: this.taskName}),\n        {\n          headers: {\n            'Content-type': 'application/x-www-form-urlencoded'\n          }\n        })\n        .then(response => {\n          this.taskName = ''\n          this.$emit('add-task')\n          this.$refs.tasks.getTasks()\n        })\n        .catch(error => {\n          console.log(['getCompletitions error', error])\n        })\n    },\n    getTimeDelta (task, currentTimeDelta, step) {\n      var timeDelta = ''\n\n      var re = [\n        new RegExp(/^-[0-9]{0,3}/),\n        new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/),\n        new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])-([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/)\n      ]\n\n      if (step === 0) {\n        if (task.match(re[2])) {\n          return task.match(re[2])[0]\n        }\n      }\n\n      if (task.match(re[0])) {\n        timeDelta = task.match(re[0])[0]\n      } else if (task.match(re[1])) {\n        timeDelta = task.match(re[1])[0]\n      }\n\n      if (timeDelta !== '' && step === 0) {\n        return this.getTimeDelta(\n          task.replace(timeDelta, '').trim(),\n          timeDelta,\n          1\n        )\n      }\n      if (currentTimeDelta !== '' && timeDelta !== '') {\n        timeDelta = currentTimeDelta + ' ' + timeDelta\n      } else if (currentTimeDelta !== '' && timeDelta === '') {\n        return currentTimeDelta\n      }\n\n      return timeDelta\n    },\n    setTaskBody (name) {\n      var timeDelta = this.getTimeDelta(this.taskName, '', 0)\n      if (timeDelta !== '') {\n        this.taskName = timeDelta + ' ' + name\n      } else {\n        this.taskName = name\n      }\n    },\n    onFocus () {\n      this.showSuggestion = true\n    },\n    urlEncode (obj) {\n      return Object.keys(obj).reduce(function (a, k) { a.push(k + '=' + encodeURIComponent(obj[k])); return a }, []).join('&')\n    }\n  },\n  mounted () {\n    this.getCompletitions()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TaskAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"md-layout md-gutter md-alignment-top-center\",attrs:{\"action\":\"\",\"method\":\"post\"},on:{\"submit\":function($event){$event.preventDefault();_vm.addTask()}}},[_c('md-card',{staticClass:\"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100\"},[_c('md-card-content',[_c('div',{staticClass:\"md-layout\"},[_c('md-field',{staticClass:\"md-layout-item md-size-80\",attrs:{\"md-clearable\":\"\"}},[_c('label',[_vm._v(\"Task\")]),_vm._v(\" \"),_c('md-input',{nativeOn:{\"focus\":function($event){return _vm.onFocus($event)}},model:{value:(_vm.taskName),callback:function ($$v) {_vm.taskName=$$v},expression:\"taskName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"md-layout-item md-size-20\"},[_c('md-button',{staticClass:\"md-primary\",staticStyle:{\"margin-top\":\"18px\"},attrs:{\"type\":\"submit\"}},[_vm._v(\"Add\")])],1)],1)])],1)],1),_vm._v(\" \"),(_vm.filteredSuggestion.length && _vm.showSuggestion)?_c('div',{staticClass:\"md-layout md-gutter md-alignment-top-center\"},[_c('md-list',{staticClass:\"md-layout-item md-large-size-50 md-xlarge-size-50 md-medium-size-70 md-small-size-100\"},_vm._l((_vm.filteredSuggestion),function(suggestion){return _c('md-list-item',{key:suggestion.id,on:{\"click\":function($event){_vm.setTaskBody(suggestion)}}},[_c('span',{staticClass:\"md-list-item-text\"},[_vm._v(_vm._s(suggestion))])])}))],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a134f6a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TaskAdd.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TaskAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TaskAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a134f6a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TaskAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TaskAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}