webpackJsonp([3],{OvdN:function(t,e){},lbUa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("fZjL"),i=n.n(o),s=n("BO1k"),a=n.n(s),u=n("mtWM"),c=n.n(u),r={data:function(){return{taskName:"",taskCompletitions:[],showSuggestion:!0,input:document.getElementById("autocompletedIntput"),currentFocus:-1}},computed:{filteredSuggestion:function(){var t=[],e=this.taskName.replace(this.getTimeDelta(this.taskName,"",0),"").trim(),n=new RegExp(e,"i"),o=!0,i=!1,s=void 0;try{for(var u,c=a()(this.taskCompletitions);!(o=(u=c.next()).done);o=!0){var r=u.value;if(r.match(n)&&r!==e&&t.push(r),t.length>=10)break}}catch(t){i=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw s}}return t}},methods:{getCompletitions:function(){var t=this;c.a.get("http://localhost:5000/api/completitions").then(function(e){t.taskCompletitions=e.data.values}).catch(function(t){console.log(["getCompletitions error",t])})},addTask:function(){var t=this;c.a.post("http://localhost:5000/api/task",this.urlEncode({name:this.taskName}),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(function(e){t.taskName="",t.$emit("add-task"),t.$refs.tasks.getTasks()}).catch(function(t){console.log(["getCompletitions error",t])})},getTimeDelta:function(t,e,n){var o="",i=[new RegExp(/^-[0-9]{0,3}/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/),new RegExp(/^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])-([0-1]?[0-9]|[2][0-3]):([0-5][0-9])/)];if(0===n&&t.match(i[2]))return t.match(i[2])[0];if(t.match(i[0])?o=t.match(i[0])[0]:t.match(i[1])&&(o=t.match(i[1])[0]),""!==o&&0===n)return this.getTimeDelta(t.replace(o,"").trim(),o,1);if(""!==e&&""!==o)o=e+" "+o;else if(""!==e&&""===o)return e;return o},setTaskBody:function(t){var e=this.getTimeDelta(this.taskName,"",0);this.taskName=""!==e?e+" "+t:t},onKeydown:function(t){40===t.keyCode?(this.currentFocus++,this.currentFocus>=this.filteredSuggestion.length-1&&(this.currentFocus=this.filteredSuggestion.length-1)):38===t.keyCode?(this.currentFocus--,this.currentFocus<-1&&(this.currentFocus=-1)):13===t.keyCode&&this.currentFocus>-1&&(this.select(this.currentFocus),t.preventDefault()),console.log(this.currentFocus)},onFocus:function(){this.showSuggestion=!0},onClickOut:function(t){console.log(t.target.id),"autocompletedIntput"!==t.target.id&&(this.showSuggestion=!1)},select:function(t){this.taskName=this.filteredSuggestion[t],this.currentFocus=-1},urlEncode:function(t){return i()(t).reduce(function(e,n){return e.push(n+"="+encodeURIComponent(t[n])),e},[]).join("&")}},mounted:function(){this.getCompletitions(),document.addEventListener("click",this.onClickOut)}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.taskName,expression:"taskName"}],attrs:{id:"autocompletedIntput",type:"text",name:"myCountry",placeholder:"Country"},domProps:{value:t.taskName},on:{keydown:this.onKeydown,focus:function(e){t.onFocus()},input:function(e){e.target.composing||(t.taskName=e.target.value)}}}),t._v(" "),n("div",{staticClass:"autocomplete-items",attrs:{id:"myInputautocomplete-list"}},t._l(t.filteredSuggestion,function(e,o){return t.showSuggestion?n("div",{key:o,class:t.currentFocus===o?"autocomplete-active":"",attrs:{"data-id":o},on:{click:function(e){t.select(o)}}},[t._v("\n        "+t._s(e)+"\n        "),n("input",{attrs:{type:"hidden"},domProps:{value:e}})]):t._e()}))])},staticRenderFns:[]};var h=n("VU/8")(r,l,!1,function(t){n("OvdN")},null,null);e.default=h.exports}});
//# sourceMappingURL=3.d5cdf3ea04b73d3a1238.js.map